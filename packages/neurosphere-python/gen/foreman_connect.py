# -*- coding: utf-8 -*-
# Generated by https://github.com/connectrpc/connect-python.  DO NOT EDIT!
# source: foreman.proto

from collections.abc import AsyncIterator, Iterable, Iterator, Mapping
from typing import Protocol

from connectrpc.client import ConnectClient, ConnectClientSync
from connectrpc.code import Code
from connectrpc.errors import ConnectError
from connectrpc.interceptor import Interceptor, InterceptorSync
from connectrpc.method import IdempotencyLevel, MethodInfo
from connectrpc.request import Headers, RequestContext
from connectrpc.server import ConnectASGIApplication, ConnectWSGIApplication, Endpoint, EndpointSync
import foreman_pb2 as foreman__pb2


class ForemanService(Protocol):
    async def pull_task(self, request: foreman__pb2.PullTaskRequest, ctx: RequestContext) -> foreman__pb2.PullTaskResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")

    async def report_result(self, request: foreman__pb2.ReportResultRequest, ctx: RequestContext) -> foreman__pb2.ReportResultResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")

    async def report_failure(self, request: foreman__pb2.ReportFailureRequest, ctx: RequestContext) -> foreman__pb2.ReportFailureResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")

    async def heartbeat(self, request: foreman__pb2.HeartbeatRequest, ctx: RequestContext) -> foreman__pb2.HeartbeatResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")

    async def register_worker(self, request: foreman__pb2.RegisterWorkerRequest, ctx: RequestContext) -> foreman__pb2.RegisterWorkerResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")


class ForemanServiceASGIApplication(ConnectASGIApplication):
    def __init__(self, service: ForemanService, *, interceptors: Iterable[Interceptor]=(), read_max_bytes: int | None = None) -> None:
        super().__init__(
            endpoints={
                "/colony.foreman.ForemanService/PullTask": Endpoint.unary(
                    method=MethodInfo(
                        name="PullTask",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.PullTaskRequest,
                        output=foreman__pb2.PullTaskResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.pull_task,
                ),
                "/colony.foreman.ForemanService/ReportResult": Endpoint.unary(
                    method=MethodInfo(
                        name="ReportResult",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.ReportResultRequest,
                        output=foreman__pb2.ReportResultResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.report_result,
                ),
                "/colony.foreman.ForemanService/ReportFailure": Endpoint.unary(
                    method=MethodInfo(
                        name="ReportFailure",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.ReportFailureRequest,
                        output=foreman__pb2.ReportFailureResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.report_failure,
                ),
                "/colony.foreman.ForemanService/Heartbeat": Endpoint.unary(
                    method=MethodInfo(
                        name="Heartbeat",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.HeartbeatRequest,
                        output=foreman__pb2.HeartbeatResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.heartbeat,
                ),
                "/colony.foreman.ForemanService/RegisterWorker": Endpoint.unary(
                    method=MethodInfo(
                        name="RegisterWorker",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.RegisterWorkerRequest,
                        output=foreman__pb2.RegisterWorkerResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.register_worker,
                ),
            },
            interceptors=interceptors,
            read_max_bytes=read_max_bytes,
        )

    @property
    def path(self) -> str:
        """Returns the URL path to mount the application to when serving multiple applications."""
        return "/colony.foreman.ForemanService"


class ForemanServiceClient(ConnectClient):
    async def pull_task(
        self,
        request: foreman__pb2.PullTaskRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.PullTaskResponse:
        return await self.execute_unary(
            request=request,
            method=MethodInfo(
                name="PullTask",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.PullTaskRequest,
                output=foreman__pb2.PullTaskResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )

    async def report_result(
        self,
        request: foreman__pb2.ReportResultRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.ReportResultResponse:
        return await self.execute_unary(
            request=request,
            method=MethodInfo(
                name="ReportResult",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.ReportResultRequest,
                output=foreman__pb2.ReportResultResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )

    async def report_failure(
        self,
        request: foreman__pb2.ReportFailureRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.ReportFailureResponse:
        return await self.execute_unary(
            request=request,
            method=MethodInfo(
                name="ReportFailure",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.ReportFailureRequest,
                output=foreman__pb2.ReportFailureResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )

    async def heartbeat(
        self,
        request: foreman__pb2.HeartbeatRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.HeartbeatResponse:
        return await self.execute_unary(
            request=request,
            method=MethodInfo(
                name="Heartbeat",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.HeartbeatRequest,
                output=foreman__pb2.HeartbeatResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )

    async def register_worker(
        self,
        request: foreman__pb2.RegisterWorkerRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.RegisterWorkerResponse:
        return await self.execute_unary(
            request=request,
            method=MethodInfo(
                name="RegisterWorker",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.RegisterWorkerRequest,
                output=foreman__pb2.RegisterWorkerResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )


class ForemanServiceSync(Protocol):
    def pull_task(self, request: foreman__pb2.PullTaskRequest, ctx: RequestContext) -> foreman__pb2.PullTaskResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")
    def report_result(self, request: foreman__pb2.ReportResultRequest, ctx: RequestContext) -> foreman__pb2.ReportResultResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")
    def report_failure(self, request: foreman__pb2.ReportFailureRequest, ctx: RequestContext) -> foreman__pb2.ReportFailureResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")
    def heartbeat(self, request: foreman__pb2.HeartbeatRequest, ctx: RequestContext) -> foreman__pb2.HeartbeatResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")
    def register_worker(self, request: foreman__pb2.RegisterWorkerRequest, ctx: RequestContext) -> foreman__pb2.RegisterWorkerResponse:
        raise ConnectError(Code.UNIMPLEMENTED, "Not implemented")


class ForemanServiceWSGIApplication(ConnectWSGIApplication):
    def __init__(self, service: ForemanServiceSync, interceptors: Iterable[InterceptorSync]=(), read_max_bytes: int | None = None) -> None:
        super().__init__(
            endpoints={
                "/colony.foreman.ForemanService/PullTask": EndpointSync.unary(
                    method=MethodInfo(
                        name="PullTask",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.PullTaskRequest,
                        output=foreman__pb2.PullTaskResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.pull_task,
                ),
                "/colony.foreman.ForemanService/ReportResult": EndpointSync.unary(
                    method=MethodInfo(
                        name="ReportResult",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.ReportResultRequest,
                        output=foreman__pb2.ReportResultResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.report_result,
                ),
                "/colony.foreman.ForemanService/ReportFailure": EndpointSync.unary(
                    method=MethodInfo(
                        name="ReportFailure",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.ReportFailureRequest,
                        output=foreman__pb2.ReportFailureResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.report_failure,
                ),
                "/colony.foreman.ForemanService/Heartbeat": EndpointSync.unary(
                    method=MethodInfo(
                        name="Heartbeat",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.HeartbeatRequest,
                        output=foreman__pb2.HeartbeatResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.heartbeat,
                ),
                "/colony.foreman.ForemanService/RegisterWorker": EndpointSync.unary(
                    method=MethodInfo(
                        name="RegisterWorker",
                        service_name="colony.foreman.ForemanService",
                        input=foreman__pb2.RegisterWorkerRequest,
                        output=foreman__pb2.RegisterWorkerResponse,
                        idempotency_level=IdempotencyLevel.UNKNOWN,
                    ),
                    function=service.register_worker,
                ),
            },
            interceptors=interceptors,
            read_max_bytes=read_max_bytes,
        )

    @property
    def path(self) -> str:
        """Returns the URL path to mount the application to when serving multiple applications."""
        return "/colony.foreman.ForemanService"


class ForemanServiceClientSync(ConnectClientSync):
    def pull_task(
        self,
        request: foreman__pb2.PullTaskRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.PullTaskResponse:
        return self.execute_unary(
            request=request,
            method=MethodInfo(
                name="PullTask",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.PullTaskRequest,
                output=foreman__pb2.PullTaskResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )

    def report_result(
        self,
        request: foreman__pb2.ReportResultRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.ReportResultResponse:
        return self.execute_unary(
            request=request,
            method=MethodInfo(
                name="ReportResult",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.ReportResultRequest,
                output=foreman__pb2.ReportResultResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )

    def report_failure(
        self,
        request: foreman__pb2.ReportFailureRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.ReportFailureResponse:
        return self.execute_unary(
            request=request,
            method=MethodInfo(
                name="ReportFailure",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.ReportFailureRequest,
                output=foreman__pb2.ReportFailureResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )

    def heartbeat(
        self,
        request: foreman__pb2.HeartbeatRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.HeartbeatResponse:
        return self.execute_unary(
            request=request,
            method=MethodInfo(
                name="Heartbeat",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.HeartbeatRequest,
                output=foreman__pb2.HeartbeatResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )

    def register_worker(
        self,
        request: foreman__pb2.RegisterWorkerRequest,
        *,
        headers: Headers | Mapping[str, str] | None = None,
        timeout_ms: int | None = None,
    ) -> foreman__pb2.RegisterWorkerResponse:
        return self.execute_unary(
            request=request,
            method=MethodInfo(
                name="RegisterWorker",
                service_name="colony.foreman.ForemanService",
                input=foreman__pb2.RegisterWorkerRequest,
                output=foreman__pb2.RegisterWorkerResponse,
                idempotency_level=IdempotencyLevel.UNKNOWN,
            ),
            headers=headers,
            timeout_ms=timeout_ms,
        )
